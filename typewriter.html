<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statements | Nate Schulz</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="typewriter.css">
</head>

<body>
    <div class="typewriter-container" id="container">
        <!-- Statements will be added here dynamically -->
    </div>

    <script>
        const container = document.getElementById('container');
        const statements = [
            `Hi, I'm Nate.`,
            `I work in “computers”.`,
            `I “hacked” with ResEdit.`,
            `I had Yellow Pages for the Web.`,
            `Removing Netscape's focus ring changed my life.`,
            `I made web pages with tables.`,
            `I wrote PHP before it ran in HipHop.`,
            `I went social in the 'The' era.`,
            `I'm building software and teams in the 'A.I.' era.`,
            `You can find me at Amazon, delivering for Ring.`,
            `Connect with me →`
        ];

        let statementIndex = 0;
        let charIndex = 0;
        let currentElement = null;
        let cursor = null;

        function createStatementElement() {
            const div = document.createElement('div');
            div.className = 'statement';
            container.appendChild(div);

            // Create cursor if it doesn't exist, otherwise move it
            if (!cursor) {
                cursor = document.createElement('span');
                cursor.className = 'cursor';
            }

            return div;
        }

        function type() {
            if (charIndex === 0) {
                currentElement = createStatementElement();
                currentElement.appendChild(cursor);
            }

            const currentText = statements[statementIndex];

            // Insert text before the cursor
            const textNode = document.createTextNode(currentText.substring(charIndex, charIndex + 1));
            currentElement.insertBefore(textNode, cursor);

            charIndex++;

            // Auto-scroll to bottom
            window.scrollTo({
                top: document.body.scrollHeight,
                behavior: 'smooth'
            });

            if (charIndex === currentText.length) {
                // Statement finished
                setTimeout(() => {
                    // Don't fade out the last statement (the arrow)
                    if (statementIndex < statements.length - 1) {
                        currentElement.classList.add('finished');
                    } else {
                        // Transform the arrow into a link
                        currentElement.classList.add('nav-link');
                        const link = document.createElement('a');
                        link.href = 'index.html';
                        link.textContent = currentText;
                        currentElement.textContent = '';
                        currentElement.appendChild(link);
                        // Move cursor into link
                        link.appendChild(cursor);
                    }

                    // Pause before next statement
                    setTimeout(() => {
                        charIndex = 0;
                        statementIndex++;

                        if (statementIndex < statements.length) {
                            type();
                        } else {
                            // Final state reached
                        }
                    }, 500);
                }, 2000); // Wait at end of statement
            } else {
                setTimeout(type, 80); // Typing speed
            }
        }

        // Start the process
        setTimeout(type, 1000);
    </script>
</body>

</html>